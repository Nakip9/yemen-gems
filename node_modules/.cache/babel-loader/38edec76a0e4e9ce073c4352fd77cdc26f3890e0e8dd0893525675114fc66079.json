{"ast":null,"code":"import _objectSpread from\"/home/eissa/Desktop/projects -2025/yemen-gems/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/home/eissa/Desktop/projects -2025/yemen-gems/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"src\",\"alt\",\"className\",\"priority\"];import React,{useState}from'react';import{motion,AnimatePresence}from'framer-motion';import{ImageOff}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OptimizedImage=_ref=>{let{src,alt,className='',priority=false}=_ref,props=_objectWithoutProperties(_ref,_excluded);const[isLoaded,setIsLoaded]=useState(false);const[hasError,setHasError]=useState(false);return/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden \".concat(className),children:[/*#__PURE__*/_jsx(AnimatePresence,{children:!isLoaded&&!hasError&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:0.5},className:\"absolute inset-0 bg-neutral-200 dark:bg-neutral-800 animate-pulse z-10\"})}),hasError&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center bg-neutral-100 dark:bg-neutral-800 text-neutral-400\",children:/*#__PURE__*/_jsx(ImageOff,{size:32})}),/*#__PURE__*/_jsx(\"img\",_objectSpread({src:src,alt:alt,loading:priority?'eager':'lazy',decoding:priority?'sync':'async',onLoad:()=>setIsLoaded(true),onError:()=>setHasError(true),className:\"w-full h-full object-cover transition-opacity duration-500 \".concat(isLoaded?'opacity-100':'opacity-0')},props))]});};export default OptimizedImage;","map":{"version":3,"names":["React","useState","motion","AnimatePresence","ImageOff","jsx","_jsx","jsxs","_jsxs","OptimizedImage","_ref","src","alt","className","priority","props","_objectWithoutProperties","_excluded","isLoaded","setIsLoaded","hasError","setHasError","concat","children","div","initial","opacity","exit","transition","duration","size","_objectSpread","loading","decoding","onLoad","onError"],"sources":["/home/eissa/Desktop/projects -2025/yemen-gems/src/components/OptimizedImage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ImageOff } from 'lucide-react';\n\ninterface OptimizedImageProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n    src: string;\n    alt: string;\n    className?: string;\n    priority?: boolean; // If true, load eagerly\n}\n\nconst OptimizedImage: React.FC<OptimizedImageProps> = ({\n    src,\n    alt,\n    className = '',\n    priority = false,\n    ...props\n}) => {\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [hasError, setHasError] = useState(false);\n\n    return (\n        <div className={`relative overflow-hidden ${className}`}>\n            {/* Loading Skeleton */}\n            <AnimatePresence>\n                {!isLoaded && !hasError && (\n                    <motion.div\n                        initial={{ opacity: 1 }}\n                        exit={{ opacity: 0 }}\n                        transition={{ duration: 0.5 }}\n                        className=\"absolute inset-0 bg-neutral-200 dark:bg-neutral-800 animate-pulse z-10\"\n                    />\n                )}\n            </AnimatePresence>\n\n            {/* Error State */}\n            {hasError && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-neutral-100 dark:bg-neutral-800 text-neutral-400\">\n                    <ImageOff size={32} />\n                </div>\n            )}\n\n            {/* Image */}\n            <img\n                src={src}\n                alt={alt}\n                loading={priority ? 'eager' : 'lazy'}\n                decoding={priority ? 'sync' : 'async'}\n                onLoad={() => setIsLoaded(true)}\n                onError={() => setHasError(true)}\n                className={`w-full h-full object-cover transition-opacity duration-500 ${isLoaded ? 'opacity-100' : 'opacity-0'\n                    }`}\n                {...props}\n            />\n        </div>\n    );\n};\n\nexport default OptimizedImage;\n"],"mappings":"8UAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,eAAe,KAAQ,eAAe,CACvD,OAASC,QAAQ,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBASxC,KAAM,CAAAC,cAA6C,CAAGC,IAAA,EAMhD,IANiD,CACnDC,GAAG,CACHC,GAAG,CACHC,SAAS,CAAG,EAAE,CACdC,QAAQ,CAAG,KAEf,CAAC,CAAAJ,IAAA,CADMK,KAAK,CAAAC,wBAAA,CAAAN,IAAA,CAAAO,SAAA,EAER,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACmB,QAAQ,CAAEC,WAAW,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAE/C,mBACIO,KAAA,QAAKK,SAAS,6BAAAS,MAAA,CAA8BT,SAAS,CAAG,CAAAU,QAAA,eAEpDjB,IAAA,CAACH,eAAe,EAAAoB,QAAA,CACX,CAACL,QAAQ,EAAI,CAACE,QAAQ,eACnBd,IAAA,CAACJ,MAAM,CAACsB,GAAG,EACPC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAE,CACxBC,IAAI,CAAE,CAAED,OAAO,CAAE,CAAE,CAAE,CACrBE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAC9BhB,SAAS,CAAC,wEAAwE,CACrF,CACJ,CACY,CAAC,CAGjBO,QAAQ,eACLd,IAAA,QAAKO,SAAS,CAAC,uGAAuG,CAAAU,QAAA,cAClHjB,IAAA,CAACF,QAAQ,EAAC0B,IAAI,CAAE,EAAG,CAAE,CAAC,CACrB,CACR,cAGDxB,IAAA,OAAAyB,aAAA,EACIpB,GAAG,CAAEA,GAAI,CACTC,GAAG,CAAEA,GAAI,CACToB,OAAO,CAAElB,QAAQ,CAAG,OAAO,CAAG,MAAO,CACrCmB,QAAQ,CAAEnB,QAAQ,CAAG,MAAM,CAAG,OAAQ,CACtCoB,MAAM,CAAEA,CAAA,GAAMf,WAAW,CAAC,IAAI,CAAE,CAChCgB,OAAO,CAAEA,CAAA,GAAMd,WAAW,CAAC,IAAI,CAAE,CACjCR,SAAS,+DAAAS,MAAA,CAAgEJ,QAAQ,CAAG,aAAa,CAAG,WAAW,CACxG,EACHH,KAAK,CACZ,CAAC,EACD,CAAC,CAEd,CAAC,CAED,cAAe,CAAAN,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}