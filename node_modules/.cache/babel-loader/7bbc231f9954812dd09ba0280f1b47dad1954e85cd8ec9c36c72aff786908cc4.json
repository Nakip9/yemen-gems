{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{motion,AnimatePresence}from'framer-motion';import OptimizedImage from'./OptimizedImage';import{useLanguage}from'./Layout';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HeroCarousel=_ref=>{let{images,title,subtitle,interval=6000}=_ref;const[currentIndex,setCurrentIndex]=useState(0);const[isPaused,setIsPaused]=useState(false);const{dir}=useLanguage();const nextSlide=useCallback(()=>{setCurrentIndex(prev=>(prev+1)%images.length);},[images.length]);const prevSlide=useCallback(()=>{setCurrentIndex(prev=>(prev-1+images.length)%images.length);},[images.length]);useEffect(()=>{if(isPaused)return;const timer=setInterval(()=>{nextSlide();},interval);return()=>clearInterval(timer);},[interval,isPaused,nextSlide]);// Swipe handlers\nconst swipeConfidenceThreshold=10000;const swipePower=(offset,velocity)=>{return Math.abs(offset)*velocity;};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-[40vh] min-h-[300px] flex items-center justify-center overflow-hidden group touch-pan-y\",onMouseEnter:()=>setIsPaused(true),onMouseLeave:()=>setIsPaused(false),onTouchStart:()=>setIsPaused(true),onTouchEnd:()=>setIsPaused(false),children:[/*#__PURE__*/_jsx(AnimatePresence,{mode:\"popLayout\",children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:1.5},className:\"absolute inset-0 w-full h-full\",drag:\"x\",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(e,_ref2)=>{let{offset,velocity}=_ref2;const swipe=swipePower(offset.x,velocity.x);if(swipe<-swipeConfidenceThreshold){dir==='rtl'?prevSlide():nextSlide();}else if(swipe>swipeConfidenceThreshold){dir==='rtl'?nextSlide():prevSlide();}},children:/*#__PURE__*/_jsx(OptimizedImage,{src:images[currentIndex],alt:\"Hero Slide \".concat(currentIndex+1),className:\"w-full h-full\",priority:true})},currentIndex)}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/50 z-10 pointer-events-none\"}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"relative z-20 text-center px-4 pointer-events-none\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl md:text-6xl font-bold text-white mb-4 drop-shadow-lg\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/90 text-lg max-w-2xl mx-auto drop-shadow-md\",children:subtitle})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-6 left-0 right-0 z-30 flex justify-center gap-3\",children:images.map((_,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentIndex(index),className:\"w-2.5 h-2.5 rounded-full transition-all duration-300 \".concat(index===currentIndex?'bg-white w-8':'bg-white/50 hover:bg-white/80'),\"aria-label\":\"Go to slide \".concat(index+1)},index))})]});};export default HeroCarousel;","map":{"version":3,"names":["React","useState","useEffect","useCallback","motion","AnimatePresence","OptimizedImage","useLanguage","jsx","_jsx","jsxs","_jsxs","HeroCarousel","_ref","images","title","subtitle","interval","currentIndex","setCurrentIndex","isPaused","setIsPaused","dir","nextSlide","prev","length","prevSlide","timer","setInterval","clearInterval","swipeConfidenceThreshold","swipePower","offset","velocity","Math","abs","className","onMouseEnter","onMouseLeave","onTouchStart","onTouchEnd","children","mode","div","initial","opacity","scale","animate","exit","transition","duration","drag","dragConstraints","left","right","dragElastic","onDragEnd","e","_ref2","swipe","x","src","alt","concat","priority","y","map","_","index","onClick"],"sources":["/home/eissa/Desktop/projects -2025/yemen-gems/src/components/HeroCarousel.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport OptimizedImage from './OptimizedImage';\nimport { useLanguage } from './Layout';\n\ninterface HeroCarouselProps {\n    images: string[];\n    title: string;\n    subtitle: string;\n    interval?: number;\n}\n\nconst HeroCarousel: React.FC<HeroCarouselProps> = ({\n    images,\n    title,\n    subtitle,\n    interval = 6000\n}) => {\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [isPaused, setIsPaused] = useState(false);\n    const { dir } = useLanguage();\n\n    const nextSlide = useCallback(() => {\n        setCurrentIndex((prev) => (prev + 1) % images.length);\n    }, [images.length]);\n\n    const prevSlide = useCallback(() => {\n        setCurrentIndex((prev) => (prev - 1 + images.length) % images.length);\n    }, [images.length]);\n\n    useEffect(() => {\n        if (isPaused) return;\n\n        const timer = setInterval(() => {\n            nextSlide();\n        }, interval);\n\n        return () => clearInterval(timer);\n    }, [interval, isPaused, nextSlide]);\n\n    // Swipe handlers\n    const swipeConfidenceThreshold = 10000;\n    const swipePower = (offset: number, velocity: number) => {\n        return Math.abs(offset) * velocity;\n    };\n\n    return (\n        <div\n            className=\"relative h-[40vh] min-h-[300px] flex items-center justify-center overflow-hidden group touch-pan-y\"\n            onMouseEnter={() => setIsPaused(true)}\n            onMouseLeave={() => setIsPaused(false)}\n            onTouchStart={() => setIsPaused(true)}\n            onTouchEnd={() => setIsPaused(false)}\n        >\n            {/* Background Images with Crossfade */}\n            <AnimatePresence mode=\"popLayout\">\n                <motion.div\n                    key={currentIndex}\n                    initial={{ opacity: 0, scale: 1.1 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    exit={{ opacity: 0 }}\n                    transition={{ duration: 1.5 }}\n                    className=\"absolute inset-0 w-full h-full\"\n                    drag=\"x\"\n                    dragConstraints={{ left: 0, right: 0 }}\n                    dragElastic={1}\n                    onDragEnd={(e, { offset, velocity }) => {\n                        const swipe = swipePower(offset.x, velocity.x);\n\n                        if (swipe < -swipeConfidenceThreshold) {\n                            dir === 'rtl' ? prevSlide() : nextSlide();\n                        } else if (swipe > swipeConfidenceThreshold) {\n                            dir === 'rtl' ? nextSlide() : prevSlide();\n                        }\n                    }}\n                >\n                    <OptimizedImage\n                        src={images[currentIndex]}\n                        alt={`Hero Slide ${currentIndex + 1}`}\n                        className=\"w-full h-full\"\n                        priority={true}\n                    />\n                </motion.div>\n            </AnimatePresence>\n\n            {/* Overlay */}\n            <div className=\"absolute inset-0 bg-black/50 z-10 pointer-events-none\" />\n\n            {/* Content */}\n            <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"relative z-20 text-center px-4 pointer-events-none\"\n            >\n                <h1 className=\"text-4xl md:text-6xl font-bold text-white mb-4 drop-shadow-lg\">{title}</h1>\n                <p className=\"text-white/90 text-lg max-w-2xl mx-auto drop-shadow-md\">{subtitle}</p>\n            </motion.div>\n\n            {/* Navigation Dots */}\n            <div className=\"absolute bottom-6 left-0 right-0 z-30 flex justify-center gap-3\">\n                {images.map((_, index) => (\n                    <button\n                        key={index}\n                        onClick={() => setCurrentIndex(index)}\n                        className={`w-2.5 h-2.5 rounded-full transition-all duration-300 ${index === currentIndex\n                            ? 'bg-white w-8'\n                            : 'bg-white/50 hover:bg-white/80'\n                            }`}\n                        aria-label={`Go to slide ${index + 1}`}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default HeroCarousel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}